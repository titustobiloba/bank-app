<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <!-- <link rel="stylesheet" href="./bootstrap-5.1.3-dist/css/bootstrap.css" /> -->
  <link rel="stylesheet" href="airtime-purchase.css">
  <link rel="stylesheet" href="../bootstrap-5.1.3-dist/css/bootstrap.css">
</head>
<body onload="userDetailLogin()">
  <link rel="stylesheet" href="../generalJsFile.js">
  <div id="airtimeBox" class="text-light w-50 m-auto mt-5 py-5 d-flex">
      <div class="row d-flex justify-content-center">
        <h1 class="fs-4 text-center mb-4">MSBank Master Card</h1><hr>
        <div class="col-xl-7 col-sm-12 col-lg-6">
          <div id="cardFront">
            <P class="text-warning text-center">CLICK ON THE CARD TO SEE YOUR CARD DETAIL</P>
            <img src="../assets/Card-front.png" alt="" id="" style="width: 90%;" class="">
          </div>
          <img src="../assets/card-back.png" alt="" id="cardBack" style="display: none; width: 80%;">
        </div>
        <div class="col-xl-5 col-sm-12 col-lg-6">
          <div class="div" id="detaiTopic" style="display: none;">
            <h4 class="">Card Details</h4>
            <p>Card Holder: <span id="holderNm"></span></p>
            <p>Card Number: <span id="cardNo"></span></p>
            <p>Issue Date: <span id="issueDat"></span></p>
            <p>Expiry Date: <span id="expDat"></span></p>
            <p>Card Id: <span id="cardId"></span></p>
          </div>
        </div>
      </div>
     <hr>
      <div class="mt-2 text-center">
        <a href="../dashboard.html" class="btn btn-dark text-light text-decoration-none">Go back</a>
    </div>
  </div>
  <div class="text-center">
  </div>
    <!-- <button class="btn btn-primary fw-bold" onclick="loginUser()">Login</button> -->
  </div>
  <script>
    // const currentLoginUserDet = () =>{
    // }
    let allUsers = JSON.parse(localStorage.getItem("bankUsers"))
    let currentUser = localStorage.getItem("currentLogin")
    let currentUserIndex = allUsers.find(u => u.signUpEmail == currentUser)
    const userDetailLogin = () =>{
      holderNm.innerText = `${currentUserIndex.signUpFirstname} ${currentUserIndex.signUpLastname}`
      cardNo.innerText = currentUserIndex.forAcctNo;
      issueDat.innerText = currentUserIndex.forRegDate
      expDat.innerText = currentUserIndex.forExpireDate
      cardId.innerText = currentUserIndex.forCardId
      console.log(currentUserIndex);
    }
    document.getElementById("cardFront").addEventListener("click", function(){
      cardFront.style.display = "none"
      cardBack.style.display = "block"
      detaiTopic.style.display = "block"
    })
    document.getElementById("cardBack").addEventListener("click", function(){
      cardFront.style.display = "block"
      cardBack.style.display = "none"
      detaiTopic.style.display = "none"
    })
  </script>
  <script src="../bootstrap-5.1.3-dist/js/bootstrap.js"></script>
</body>
</html>